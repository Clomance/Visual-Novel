# Визуальная новелла, написанная на Rust с помощью игрового движка Piston.
## Версия 0.6.0
При участии [YokuTM](https://github.com/YokuTM) и [Masya26](https://github.com/Masya26)

Знаю, что можно было использовать типажи-объекты, обобщить всё по-максимуму и упростить код в разы, но, если я бы хотел сделать всё просто, то использовал бы Java. Поэтому ради "оптимизации" всё так страшно выглядит.

## Редактирование игры

Новеллу можно переделать на свой вкус, заменив все диалоги, текстуры и название игры. Ниже будут описаны возможности и правила редактирования.

Запомните: все текстовые файлы имеют кодировку UTF-8.

### Общие настройки

#### Параметры игры (количество страниц и героев)

За начальную настройку игры отвечает файл `./settings/settings.txt`.

Определяемые поля:
 - game_name - определяет название игры
 - continue - определяет начинать ли новую игру (true) или загрузить данные сохранения (false), пока не подключено
 - user_name - определяет имя игрока
 - saved_page - страница, на которой остановился пользователь
 - saved_dialogue - место в диалоге, на котором остановился пользователь
 - pages - количество страниц в игре
 - page_wallpapers - количество обоев для всех страниц в игре
 - characters - количество героев

Записываются в файл в том же порядке, на отдельных строчках.

Пример:
```
Visual Novel by Clomance
false
Оскар
0
0
3
3
1
```

Будьте осторожны при редактировании.

#### Построение и ход игры

За ход игры, а точнее, за последовательность диалогов, обоев и героев отвечает файл `./settings/page_table.txt`.

В нём содеражатся блоки страниц с номерами обоев, диалогов и персонажей. Все страницы идут по порядку, сверху вниз.

Формат страничных блоков:

```
[любая информация (в одну строчку)]{
    wallpaper = [номер обоев]
    dialogue = [номер диалога]
    character = [номер персонажа]
}
```
Пример:
```
В школе {
    wallpaper = 0
    dialogue = 0
    character = 0
}
```

### Диалоги

Диалоги находятся в папке `./text`.

Файлы диалогов должны именоваться следующим образом: `dialogue[номер диалога].txt`; все номера диалогов идут по порядку, начиная с нуля.
Пример: `dialogue0.txt`.

##### Формат диалогов:
В начале идёт заголовок:
```
{
    [полное имя] = [краткое имя]
    Оскар = О
    Кломанс = К
}
```
Далее идёт сам диалог:
```
[краткое имя] - [однострочный диалог]
О - Какая хорошая сегодня погода.
```

Для вставки имени игрока используются `{}`:
```
О - Какая хорошая сегодня погода.
O - Да, {}?
{} - Согласен с вами, Оскар.
```

Также по ходу диалога можно переопределять заголовок.

### Изображения

Все изображения имеют расширение `png` и находятся в папке `./images`.

#### Обои и задние планы

Обои и задние планы находятся в папке `./images/wallpapers`.

Обои главного меню и конечная заставка игры здесь же. Пути `./images/wallpapers/main_menu_wallpaper.png` и `./images/wallpapers/ending_wallpaper.png` соответственно.

А всё остальное должно именоваться следующим образом: `wallpaper[номер заднего плана].png`; все номера идут по порядку, начиная с нуля.
Пример: `wallpaper0.png`.

#### Парсонажи

Текстуры персонажей находятся в папке `./images/characters`.

Все текстуры для героев должны именоваться следующим образом: `character[номер персонажа].png`; все номера идут по порядку, начиная с нуля.
Пример: `character0.png`.

#### Остальное

Путь текстуры для окна с диалогими - `./images/dialog_box.png`, для картинки во время загрузки - `./images/logo.png`.
